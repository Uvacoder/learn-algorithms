/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => PythonScripterPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var path = __toESM(require("path"));
var fs = __toESM(require("fs"));
var import_child_process = require("child_process");
var DEFAULT_SETTINGS = {
  pythonPath: "",
  pythonExe: ""
  // useLastFile: false
};
var PythonScripterPlugin = class extends import_obsidian.Plugin {
  getBasePath() {
    let basePath;
    if (this.app.vault.adapter instanceof import_obsidian.FileSystemAdapter) {
      basePath = this.app.vault.adapter.getBasePath();
    } else {
      throw new Error("Cannot determine base path.");
    }
    return `${basePath}`;
  }
  async onload() {
    await this.loadSettings();
    var basePath = this.getBasePath();
    var defaultRelativePath = path.join(".", this.app.vault.configDir, "scripts", "python");
    this.pythonDirectory = path.join(basePath, defaultRelativePath);
    this.pythonDirectoryRelative = defaultRelativePath;
    if (this.settings.pythonPath != "") {
      this.pythonDirectory = path.join(basePath, this.settings.pythonPath);
      this.pythonDirectoryRelative = this.settings.pythonPath;
    } else {
      this.pythonDirectory = path.join(basePath, defaultRelativePath);
      this.pythonDirectoryRelative = defaultRelativePath;
    }
    console.log(this.pythonDirectoryRelative);
    try {
      await this.app.vault.createFolder(this.pythonDirectoryRelative);
    } catch (error) {
    }
    var files = fs.readdirSync(this.pythonDirectory);
    for (var index = 0; index < files.length; index++) {
      const filePath = path.join(this.pythonDirectory, files[index]);
      const fileName = files[index];
      const basePath2 = this.getBasePath();
      const obsidianCommand = {
        id: "run-" + files[index],
        name: "Run " + files[index],
        callback: () => {
          fs.stat(filePath, (err, stats) => {
            var _a, _b, _c, _d;
            if (err) {
              console.error(err);
              return;
            }
            let python_exe = "python";
            if (this.settings.pythonExe != "") {
              python_exe = this.settings.pythonExe;
            }
            if (stats.isFile()) {
              var local_current_file_path = (_b = (_a = this.app.workspace.getActiveFile()) == null ? void 0 : _a.path) == null ? void 0 : _b.toString();
              if (local_current_file_path === void 0) {
                local_current_file_path = "";
              }
              (0, import_child_process.exec)(`${python_exe} "${filePath}" "${basePath2}" "${local_current_file_path}"`, { cwd: this.pythonDirectory }, (error, stdout, stderr) => {
                if (error) {
                  new import_obsidian.Notice(`Error executing script ${filePath}: ${error}`);
                  console.log(`Error executing script ${filePath}: ${error}`);
                  return;
                }
                new import_obsidian.Notice(`Script ` + fileName + ` output:
${stdout}`);
              });
            } else if (stats.isDirectory()) {
              var dir = path.join(filePath);
              var local_current_file_path = (_d = (_c = this.app.workspace.activeEditor) == null ? void 0 : _c.file) == null ? void 0 : _d.path;
              if (local_current_file_path === void 0) {
                local_current_file_path = "";
              }
              (0, import_child_process.exec)(`${python_exe} "${path.join(filePath, "src", "main.py")}" "${basePath2}" "${local_current_file_path}"`, { cwd: dir }, (error, stdout, stderr) => {
                if (error) {
                  new import_obsidian.Notice(`Error executing folder program: ${error}`);
                  console.log(`Error executing folder program: ${error}`);
                  return;
                }
                new import_obsidian.Notice(`Script ` + fileName + " " + basePath2 + ` output:
${stdout}`);
              });
            }
          });
        }
      };
      this.addCommand(obsidianCommand);
    }
    this.addSettingTab(new PythonScripterSettingTab(this.app, this));
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var PythonScripterSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Python Script Path").setDesc("Defaults to .obsidian\\scripts\\python").addText((text) => text.setPlaceholder("Enter path").setValue(this.plugin.settings.pythonPath).onChange(async (value) => {
      this.plugin.settings.pythonPath = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Python Executable").setDesc("Defaults to python").addText((text) => text.setPlaceholder("Enter path or command").setValue(this.plugin.settings.pythonExe).onChange(async (value) => {
      this.plugin.settings.pythonExe = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIEZpbGVTeXN0ZW1BZGFwdGVyLCBNYXJrZG93blZpZXcsIE1vZGFsLCBOb3RpY2UsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJztcclxuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xyXG5pbXBvcnQgeyBleGVjIH0gZnJvbSAnY2hpbGRfcHJvY2Vzcyc7XHJcblxyXG5cclxuaW50ZXJmYWNlIFB5dGhvblNjcmlwdGVyU2V0dGluZ3Mge1xyXG5cdHB5dGhvblBhdGg6IHN0cmluZztcclxuXHRweXRob25FeGU6IHN0cmluZztcclxuXHQvLyB1c2VMYXN0RmlsZTogYm9vbGVhbjtcclxufVxyXG5cclxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogUHl0aG9uU2NyaXB0ZXJTZXR0aW5ncyA9IHtcclxuXHRweXRob25QYXRoOiBcIlwiLFxyXG5cdHB5dGhvbkV4ZTogXCJcIixcclxuXHQvLyB1c2VMYXN0RmlsZTogZmFsc2VcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHl0aG9uU2NyaXB0ZXJQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cdHNldHRpbmdzOiBQeXRob25TY3JpcHRlclNldHRpbmdzO1xyXG5cdHB5dGhvbkRpcmVjdG9yeTogc3RyaW5nO1xyXG5cdHB5dGhvbkRpcmVjdG9yeVJlbGF0aXZlOiBzdHJpbmc7XHJcblxyXG5cdGdldEJhc2VQYXRoKCk6IHN0cmluZyB7XHJcblx0XHRsZXQgYmFzZVBhdGg7XHJcblx0XHQvLyBiYXNlIHBhdGhcclxuXHRcdGlmICh0aGlzLmFwcC52YXVsdC5hZGFwdGVyIGluc3RhbmNlb2YgRmlsZVN5c3RlbUFkYXB0ZXIpIHtcclxuXHRcdFx0YmFzZVBhdGggPSB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLmdldEJhc2VQYXRoKCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBkZXRlcm1pbmUgYmFzZSBwYXRoLicpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGAke2Jhc2VQYXRofWA7XHJcblx0fVxyXG5cclxuXHRhc3luYyBvbmxvYWQoKSB7XHJcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0dmFyIGJhc2VQYXRoID0gdGhpcy5nZXRCYXNlUGF0aCgpO1xyXG5cdFx0dmFyIGRlZmF1bHRSZWxhdGl2ZVBhdGg6IHN0cmluZyA9IHBhdGguam9pbihcIi5cIiwgdGhpcy5hcHAudmF1bHQuY29uZmlnRGlyLCBcInNjcmlwdHNcIiwgXCJweXRob25cIik7XHJcblx0XHR0aGlzLnB5dGhvbkRpcmVjdG9yeSA9IHBhdGguam9pbihiYXNlUGF0aCwgZGVmYXVsdFJlbGF0aXZlUGF0aCk7XHJcblx0XHR0aGlzLnB5dGhvbkRpcmVjdG9yeVJlbGF0aXZlID0gZGVmYXVsdFJlbGF0aXZlUGF0aFxyXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MucHl0aG9uUGF0aCAhPSBcIlwiKSB7XHJcblx0XHRcdHRoaXMucHl0aG9uRGlyZWN0b3J5ID0gcGF0aC5qb2luKGJhc2VQYXRoLCB0aGlzLnNldHRpbmdzLnB5dGhvblBhdGgpO1xyXG5cdFx0XHR0aGlzLnB5dGhvbkRpcmVjdG9yeVJlbGF0aXZlID0gdGhpcy5zZXR0aW5ncy5weXRob25QYXRoXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLnB5dGhvbkRpcmVjdG9yeSA9IHBhdGguam9pbihiYXNlUGF0aCwgZGVmYXVsdFJlbGF0aXZlUGF0aCk7XHJcblx0XHRcdHRoaXMucHl0aG9uRGlyZWN0b3J5UmVsYXRpdmUgPSBkZWZhdWx0UmVsYXRpdmVQYXRoXHJcblx0XHR9XHJcblx0XHRjb25zb2xlLmxvZyh0aGlzLnB5dGhvbkRpcmVjdG9yeVJlbGF0aXZlKVxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlRm9sZGVyKHRoaXMucHl0aG9uRGlyZWN0b3J5UmVsYXRpdmUpO1xyXG5cdFx0XHQvL25ldyBOb3RpY2UodGhpcy5weXRob25EaXJlY3RvcnkgKyBcIiBjcmVhdGVkXCIpO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Ly9uZXcgTm90aWNlKFwiRXJyb3IgY3JlYXRpbmcgXCIgKyB0aGlzLnB5dGhvbkRpcmVjdG9yeSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGZpbGVzOiBzdHJpbmdbXSA9IGZzLnJlYWRkaXJTeW5jKHRoaXMucHl0aG9uRGlyZWN0b3J5KTtcclxuXHRcdGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBmaWxlcy5sZW5ndGg7IGluZGV4KyspIHtcclxuXHRcdFx0Y29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4odGhpcy5weXRob25EaXJlY3RvcnksIGZpbGVzW2luZGV4XSk7XHJcblx0XHRcdGNvbnN0IGZpbGVOYW1lID0gZmlsZXNbaW5kZXhdO1xyXG5cdFx0XHRjb25zdCBiYXNlUGF0aCA9IHRoaXMuZ2V0QmFzZVBhdGgoKTtcclxuXHRcdFx0Y29uc3Qgb2JzaWRpYW5Db21tYW5kID0ge1xyXG5cdFx0XHRcdGlkOiBcInJ1bi1cIiArIGZpbGVzW2luZGV4XSxcclxuXHRcdFx0XHRuYW1lOiAnUnVuICcgKyBmaWxlc1tpbmRleF0sXHJcblx0XHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHRcdGZzLnN0YXQoZmlsZVBhdGgsIChlcnI6IGFueSwgc3RhdHM6IHsgaXNGaWxlOiAoKSA9PiBhbnk7IGlzRGlyZWN0b3J5OiAoKSA9PiBhbnk7IH0pID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKGVycikge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0bGV0IHB5dGhvbl9leGUgPSBcInB5dGhvblwiO1xyXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5weXRob25FeGUgIT0gXCJcIikge1xyXG5cdFx0XHRcdFx0XHRcdHB5dGhvbl9leGUgPSB0aGlzLnNldHRpbmdzLnB5dGhvbkV4ZVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmIChzdGF0cy5pc0ZpbGUoKSkge1xyXG5cdFx0XHRcdFx0XHRcdC8vIHZhciAgbG9jYWxfY3VycmVudF9maWxlX3BhdGggPSB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlRWRpdG9yPy5maWxlPy5wYXRoO1xyXG5cdFx0XHRcdFx0XHRcdHZhciBsb2NhbF9jdXJyZW50X2ZpbGVfcGF0aCA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk/LnBhdGg/LnRvU3RyaW5nKCk7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGxvY2FsX2N1cnJlbnRfZmlsZV9wYXRoID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdC8vIGxvY2FsX2N1cnJlbnRfZmlsZV9wYXRoID0gXCJcIjtcclxuXHRcdFx0XHRcdFx0XHRcdGxvY2FsX2N1cnJlbnRfZmlsZV9wYXRoID0gXCJcIjtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0Ly8gaWYgKHRoaXMuc2V0dGluZ3MudXNlTGFzdEZpbGUpIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBcdGxvY2FsX2N1cnJlbnRfZmlsZV9wYXRoID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKT8ubmFtZT8udG9TdHJpbmcoKTtcclxuXHRcdFx0XHRcdFx0XHQvLyB9XHJcblx0XHRcdFx0XHRcdFx0Ly8gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gXHRsb2NhbF9jdXJyZW50X2ZpbGVfcGF0aCA9IHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVFZGl0b3I/LmZpbGU/LnBhdGg7XHJcblx0XHRcdFx0XHRcdFx0Ly8gfVxyXG5cclxuXHJcblxyXG5cdFx0XHRcdFx0XHRcdGV4ZWMoYCR7cHl0aG9uX2V4ZX0gXFxcIiR7ZmlsZVBhdGh9XFxcIiBcXFwiJHtiYXNlUGF0aH1cXFwiIFxcXCIke2xvY2FsX2N1cnJlbnRfZmlsZV9wYXRofVxcXCJgLCB7IGN3ZDogdGhpcy5weXRob25EaXJlY3RvcnkgfSwgKGVycm9yOiBhbnksIHN0ZG91dDogYW55LCBzdGRlcnI6IGFueSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEVycm9yIGV4ZWN1dGluZyBzY3JpcHQgJHtmaWxlUGF0aH06ICR7ZXJyb3J9YCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGBFcnJvciBleGVjdXRpbmcgc2NyaXB0ICR7ZmlsZVBhdGh9OiAke2Vycm9yfWApXHJcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFNjcmlwdCBgICsgZmlsZU5hbWUgKyBgIG91dHB1dDpcXG4ke3N0ZG91dH1gKTtcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChzdGF0cy5pc0RpcmVjdG9yeSgpKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGRpciA9IHBhdGguam9pbihmaWxlUGF0aCk7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGxvY2FsX2N1cnJlbnRfZmlsZV9wYXRoID0gdGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUVkaXRvcj8uZmlsZT8ucGF0aDtcclxuXHRcdFx0XHRcdFx0XHRpZiAobG9jYWxfY3VycmVudF9maWxlX3BhdGggPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0bG9jYWxfY3VycmVudF9maWxlX3BhdGggPSBcIlwiO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRleGVjKGAke3B5dGhvbl9leGV9IFxcXCIke3BhdGguam9pbihmaWxlUGF0aCwgXCJzcmNcIiwgXCJtYWluLnB5XCIpfVxcXCIgXFxcIiR7YmFzZVBhdGh9XFxcIiBcXFwiJHtsb2NhbF9jdXJyZW50X2ZpbGVfcGF0aH1cXFwiYCwgeyBjd2Q6IGRpciB9LCAoZXJyb3I6IGFueSwgc3Rkb3V0OiBhbnksIHN0ZGVycjogYW55KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRXJyb3IgZXhlY3V0aW5nIGZvbGRlciBwcm9ncmFtOiAke2Vycm9yfWApO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgRXJyb3IgZXhlY3V0aW5nIGZvbGRlciBwcm9ncmFtOiAke2Vycm9yfWApXHJcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFNjcmlwdCBgICsgZmlsZU5hbWUgKyBcIiBcIiArIGJhc2VQYXRoICsgYCBvdXRwdXQ6XFxuJHtzdGRvdXR9YCk7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5hZGRDb21tYW5kKG9ic2lkaWFuQ29tbWFuZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVGhpcyBhZGRzIGEgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgdmFyaW91cyBhc3BlY3RzIG9mIHRoZSBwbHVnaW5cclxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgUHl0aG9uU2NyaXB0ZXJTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblxyXG5cdH1cclxuXHJcblx0b251bmxvYWQoKSB7XHJcblxyXG5cdH1cclxuXHJcblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG5cdH1cclxufVxyXG5cclxuY2xhc3MgUHl0aG9uU2NyaXB0ZXJTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XHJcblx0cGx1Z2luOiBQeXRob25TY3JpcHRlclBsdWdpbjtcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogUHl0aG9uU2NyaXB0ZXJQbHVnaW4pIHtcclxuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdH1cclxuXHJcblx0ZGlzcGxheSgpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XHJcblxyXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ1B5dGhvbiBTY3JpcHQgUGF0aCcpXHJcblx0XHRcdC5zZXREZXNjKCdEZWZhdWx0cyB0byAub2JzaWRpYW5cXFxcc2NyaXB0c1xcXFxweXRob24nKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIHBhdGgnKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5weXRob25QYXRoKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnB5dGhvblBhdGggPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnUHl0aG9uIEV4ZWN1dGFibGUnKVxyXG5cdFx0XHQuc2V0RGVzYygnRGVmYXVsdHMgdG8gcHl0aG9uJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdFbnRlciBwYXRoIG9yIGNvbW1hbmQnKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5weXRob25FeGUpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucHl0aG9uRXhlID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblx0XHQvLyBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdC8vIFx0LnNldE5hbWUoJ1VzZSBMYXN0IEZpbGUnKVxyXG5cdFx0Ly8gXHQuc2V0RGVzYygnUnVuIHRoZSBzY3JpcHQgb24gdGhlIGxhc3QgZmlsZSB0aGF0IHdhcyBvcGVuZWQuIFRoaXMgbWFrZSBpdCBwb3NzaWJsZSB0byBydW4gaXQgb24gb3RoZXIgZmlsZSB0eXBlcyBlLmcuIHBkZi4nKVxyXG5cdFx0Ly8gXHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdC8vIFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlTGFzdEZpbGUpXHJcblx0XHQvLyBcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0Ly8gXHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlTGFzdEZpbGUgPSB2YWx1ZTtcclxuXHRcdC8vIFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0Ly8gXHRcdH0pKTtcclxuXHR9XHJcbn1cclxuIl0sCiAgIm1hcHBpbmdzIjog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
